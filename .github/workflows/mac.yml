name: Test workflow
on: [push]
jobs:
  run:    
    runs-on: ${{ matrix.operating-system }}
    strategy:
      fail-fast: false
      matrix:      
        operating-system: [macos-latest]        
    name: Test
    steps:
    - name: Checkout
      uses: actions/checkout@v2

    - name: Setup PHP      
      run: |
        if [[ -f /usr/bin/python3 ]]; then
           PYTHONPATH=/usr/bin/python3
        elif [[ -f /usr/bin/python ]]; then
           PYTHONPATH=/usr/bin/python
        else
           PYTHONPATH=$(command -v python)
        fi        
        pip3 -V || echo "pip3 not found"
        pip3.7 -V || echo "pip3.7 not found"
        pip"$($PYTHONPATH -V | cut -d' ' -f 2 | cut -d'.' -f 1-2)" -V
