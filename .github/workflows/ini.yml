name: Test workflow
on: [push]
jobs:
  run:    
    runs-on: ${{ matrix.os }}
    strategy:
      fail-fast: false
      matrix:
        os: [windows-latest]
    steps:
    - name: Checkout
      uses: actions/checkout@v2
    - uses: shivammathur/setup-php@develop
      with:
        php-version: '8.0'
        coverage: pcov
        ini-values: pcov.directory=/home/runner/work/jobname/jobname, pcov.exclude="~(.tests|vendor)~"      

    - name: Testing PHP version
      run: php -v
 
    - name: Testing ini values
      run: |
        php -r "echo ini_get('pcov.directory');"
        echo ' '
        php -r "echo ini_get('pcov.exclude');"
        type C:\tools\php\php.ini

