name: Runner workflow
on:
  push:
jobs:
  ubuntu:
    name: runner    
    runs-on: ${{ matrix.os }}
    strategy:
      fail-fast: false
      matrix:
        os: [windows-2019]
    steps:    
      - name: Test
        run: printf ("\033[32;1m OK \033[0m\n");
      - name: Test
        run: |
          Remove-Item "C:\Program Files\Git\usr\bin\printf.exe" -Force
          $bin_dir = 'C:\tools\php'
          Measure-Command {
            try {
              Get-Command printff -ErrorAction Ignore
              if ($? -eq $false) {         
                Measure-Command { Invoke-WebRequest -UseBasicParsing -Uri "https://github.com/shivammathur/printf/releases/latest/download/printf-x64.zip" -OutFile "$bin_dir\printf.zip" }
                Measure-Command { Expand-Archive -Path $bin_dir\printf.zip -DestinationPath $bin_dir -Force }
              }
            } catch {}
          }
          printf ("\033[32;1m OK \033[0m\n");
        
