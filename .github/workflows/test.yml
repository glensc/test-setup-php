name: Runner tests

on: push

jobs:
  test:
    runs-on: ${{ matrix.os }}
    strategy:
      fail-fast: false
      matrix: 
        os: [ubuntu-18.04, ubuntu-20.04]
        php: [5.6, 7.0, 7.1, 7.2, 7.3, 7.4, 8.0, 8.1, 8.2]
    steps:
        - name: Install PHP
          uses: shivammathur/setup-php@develop
          with:
              php-version: ${{ matrix.php }}
        - run: |
            php -v
            ls -la /run/php
            ls -la /etc/alternatives/php-fpm.sock
            sudo service php${{ matrix.php }}-fpm status
