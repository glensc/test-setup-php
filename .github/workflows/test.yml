name: Test workflow
on: [push]
jobs:
  test:    
    name: test
    runs-on: ${{ matrix.os }}
    strategy:
      fail-fast: false
      matrix:
        os: [ubuntu-latest]
    steps:
      - name: Test exit 
        run: |
          cross="âœ—"
          export version='5.3'
          export runner='self-hosted'
          curl -OSL https://raw.githubusercontent.com/shivammathur/setup-php/develop/src/scripts/linux.sh
          sed -i "s/sleep 5/trap printf \"::error:: \\033[34;1mPHP \\033[0m\\033[90;1mPHP $version is not supported on self-hosted runner\\033[0m\" exit/g" linux.sh
          cat linux.sh
          bash linux.sh $version $(pwd)

      - name: Should not run
        run: echo 'test'
        
          
