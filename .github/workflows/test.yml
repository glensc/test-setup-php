name: Runner workflow

on:
  push

jobs:
  runner:
    runs-on: ubuntu-latest
    container: ubuntu:20.04
    steps:
      - run: |
          VERSION=8.0
          check_package() {
            sudo apt-cache policy "$1" 2>/dev/null | grep -q 'Candidate'
          }
          export DEBIAN_FRONTEND=noninteractive
          apt-get update
          apt-get install -y automake curl git gnupg make pkg-config software-properties-common sudo zstd
          sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-key C99B11DEB97541F0
          for ppa in ppa:git-core/ppa ppa:ondrej/php https://cli.github.com/packages; do
            LC_ALL=C.UTF-8 apt-add-repository "$ppa" -y
          done
          apt-get install -y git gh
          apt-get install -y --no-install-recommends php"$VERSION" php"$VERSION"-cli php"$VERSION"-xml php"$VERSION"-dev
          php -v
          php -m
      
