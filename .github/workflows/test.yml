name: 'Test Formulae'
on: [push]
jobs:
  tests:
    runs-on: macos-12
    steps:
      - name: Phpize on PHP 8.1
        run: |
          php -v
          phpize
      - name: Add tap
        run: brew tap shivammathur/php
      - name: Install PHP 7.1
        run: |
          brew install shivammathur/php/php@7.1
          brew link --force --overwrite php@7.1
      - name: Phpize on PHP 7.1
        run: |
          php -v
          phpize
      - name: Install PHP 7.4
        run: |
          brew install shivammathur/php/php@7.4
          brew link --force --overwrite php@7.4
      - name: Phpize on PHP 7.4
        run: |
          php -v
          phpize
