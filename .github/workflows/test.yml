name: 'Test'
on: [push]
jobs:
  tests:  
    strategy:
      matrix:
        os: [macos-10.15, macos-11.0]
    runs-on: ${{ matrix.os }}
    steps:
      - name: Install apache2
        run: |
          brew install httpd
          brew services stop httpd                
      - name: Install nginx
        run: |
          brew install nginx
          brew services stop nginx
      - name: Test setup
        run: |
          for service in httpd nginx; do
            for action in start status stop; do
              brew services "$action" "$service"
            done
          done
