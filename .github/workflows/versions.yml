name: Versions workflow
on: [push]
jobs:
  run:    
    runs-on: ${{ matrix.operating-system }}
    strategy:
      max-parallel: 6
      matrix:
        operating-system: [ubuntu-latest, ubuntu-16.04, macOS-latest]
        php-versions: ['7.1', '7.2', '7.3']
    name: PHP ${{ matrix.php-versions }} Test on ${{ matrix.operating-system }}
    steps:
      - name: Checkout Master
        uses: actions/checkout@master
      - name: list bin
        run: ls /usr/bin && ls /usr/local/bin
      - name: check php.ini file location
        run: php${{ matrix.php-versions}} --ini | grep "Loaded Configuration" | sed -e "s|.*:s*||" | sed "s/\s//g"
      - name: print ini file       
        run: cat $(php${{ matrix.php-versions}} --ini | grep "Loaded Configuration" | sed -e "s|.*:s*||" | sed "s/\s//g")
      - name: Check PHP
        run: php -v && php${{ matrix.php-versions }} -v || echo "Not found"
