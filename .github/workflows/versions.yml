name: Versions workflow
on: [push]
jobs:
  run:    
    runs-on: ${{ matrix.operating-system }}
    strategy:
      max-parallel: 6
      matrix:
        operating-system: [macOS-latest]
        php-versions: ['7.1']
    name: PHP ${{ matrix.php-versions }} Test on ${{ matrix.operating-system }}
    steps:
      - name: Checkout Master
        uses: actions/checkout@master
      - name: list bin
        run: ls /usr/bin && ls /usr/local/bin
      - name: check php.ini file location
        run: php --ini | grep "Loaded Configuration" | sed -e "s|.*:s*||"
      - name: Fix permission
        run: sudo chmod 777 $(php --ini | grep "Loaded Configuration" | sed -e "s|.*:s*||")
      - name: add to php.ini
        run: sudo echo "date.timezone=Asia/Kolkata" >> `php --ini | grep "Loaded Configuration" | sed -e "s|.*:s*||"`        
      - name: Check PHP ini
        run: php -v && php -r "echo ini_get('date.timezone');"
